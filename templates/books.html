{% extends "layout.html" %} {% block title %} Books {% endblock %} {% block content %}

<div class="container booksContainer">

    <div class="card mb-5">
        <div class="card-body pl-5 d-flex flex-row align-items-center">
            <div>
                <p class="bookh3Title m-0">Books (Total: {{ length }} Books)</p>
            </div>
            <div class="ml-auto">
                <div class="btn-group">
                    <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Sort
                    </button>
                    <div class="dropdown-menu bg-info">
                        <a type="button" class="btn btn-info" href="?sort=book_a">Book Name <i class=" ml-1 fas fa-arrow-down"></i></a>
                        <a type="button" class="btn btn-info" href="?sort=book_d">Book Name <i class=" ml-1 fas fa-arrow-up"></i></a>
                        <a type="button" class="btn btn-info" href="?sort=author_a">Author Name <i class=" ml-1 fas fa-arrow-down"></i></a>
                        <a type="button" class="btn btn-info" href="?sort=author_d">Author Name <i class=" ml-1 fas fa-arrow-up"></i></a>
                        <a type="button" class="btn btn-info" href="?sort=rate_d">Rate <i class=" ml-1 fas fa-arrow-down"></i></a>
                        <a type="button" class="btn btn-info" href="?sort=rate_a">Rate <i class=" ml-1 fas fa-arrow-up"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="cardDeck px-4 mb-5">

        {%for i in range(0, length)%}

        <div class="card">
            <form action="" method="post">
                <button name="bookId" value="{{allData[i][0]}}-{{allData[i][7]}}" type="submit" class="addToLibrary btn btn-primary"><span class="mr-2">Add to Library</span><i class="far fa-plus-square"></i></button>
            </form>
            <a href="/books/{{ allData[i][0] }}"><img class="card-img-top" src="{{ allData[i][6] }}" alt="Book Card Image"></a>
            <div class="card-body">
                <p><a href="/books/{{ allData[i][0] }}">{{ allData[i][1] }}</a></p>
                <p class="card-text"><a href="/authors/{{ allData[i][7] }}"> {{ allData[i][10] }}</a></p>
                {% if allData[i][5] != 0 %}
                <p class="card-text text-right "><small class="">Rate: {{ allData[i][5] }}</small></p>
                {% else %}
                <p class="card-text text-right"><small class="">No Rate Yet </small></p>
                {% endif %}
            </div>

        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}